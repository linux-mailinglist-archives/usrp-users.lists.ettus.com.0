Return-Path: <usrp-users-bounces@lists.ettus.com>
X-Original-To: lists+usrp-users@lfdr.de
Delivered-To: lists+usrp-users@lfdr.de
Received: from mm2.emwd.com (mm2.emwd.com [172.104.30.75])
	by mail.lfdr.de (Postfix) with ESMTPS id 9EF872D15DF
	for <lists+usrp-users@lfdr.de>; Mon,  7 Dec 2020 17:25:21 +0100 (CET)
Received: from [::1] (port=37278 helo=mm2.emwd.com)
	by mm2.emwd.com with esmtp (Exim 4.93)
	(envelope-from <usrp-users-bounces@lists.ettus.com>)
	id 1kmJKB-0006yY-EA; Mon, 07 Dec 2020 11:25:19 -0500
Received: from sainfoin-smtp-out.extra.cea.fr ([132.167.192.228]:55989)
 by mm2.emwd.com with esmtps (TLS1.2) tls TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
 (Exim 4.93) (envelope-from <rodolphe.bertolini@cea.fr>)
 id 1kmJK6-0006pP-PP
 for usrp-users@lists.ettus.com; Mon, 07 Dec 2020 11:25:14 -0500
Received: from pisaure.intra.cea.fr (pisaure.intra.cea.fr [132.166.88.21])
 by sainfoin-sys.extra.cea.fr (8.14.7/8.14.7/CEAnet-Internet-out-4.0) with
 ESMTP id 0B7GOXCZ013289; Mon, 7 Dec 2020 17:24:33 +0100
Received: from pisaure.intra.cea.fr (localhost [127.0.0.1])
 by localhost (Postfix) with SMTP id 4951820B770;
 Mon,  7 Dec 2020 17:24:33 +0100 (CET)
Received: from muguet2-smtp-out.intra.cea.fr (muguet2-smtp-out.intra.cea.fr
 [132.166.192.13])
 by pisaure.intra.cea.fr (Postfix) with ESMTP id 3AA1020B699;
 Mon,  7 Dec 2020 17:24:33 +0100 (CET)
Received: from EXCAH-A0.intra.cea.fr (excah-a0.intra.cea.fr [132.166.88.74])
 by muguet2-sys.intra.cea.fr (8.14.7/8.14.7/CEAnet-Internet-out-4.0) with ESMTP
 id 0B7GOX9u003905; Mon, 7 Dec 2020 17:24:33 +0100
Received: from EXDAG0-B2.intra.cea.fr ([fe80::d079:8496:6c6c:9b1f]) by
 EXCAH-A0.intra.cea.fr ([fe80::446e:fe1a:2892:9de1%10]) with mapi id
 14.03.0487.000; Mon, 7 Dec 2020 17:24:33 +0100
To: USRP list <usrp-users@lists.ettus.com>, openair5g-user
 <openair5g-user@lists.eurecom.fr>
Thread-Topic: b210 and x310 synchronisation from non-GPSDO external clock
Thread-Index: AdbMsoHX5t1C4woBSqeb4w+HbyxvCA==
Date: Mon, 7 Dec 2020 16:24:32 +0000
Message-ID: <F479266F97CCAE47854721C82406934E30729EF6@EXDAG0-B2.intra.cea.fr>
Accept-Language: fr-FR, en-US
Content-Language: fr-FR
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [132.166.88.109]
x-tm-as-product-ver: SMEX-11.0.0.4179-8.100.1062-23234.003
x-tm-as-result: No--8.658200-0.000000-31
x-tm-as-user-approved-sender: Yes
x-tm-as-user-blocked-sender: No
MIME-Version: 1.0
Subject: [USRP-users] b210 and x310 synchronisation from non-GPSDO external
 clock
X-BeenThere: usrp-users@lists.ettus.com
X-Mailman-Version: 2.1.33
Precedence: list
List-Id: USRP-related discussion and support <usrp-users.lists.ettus.com>
List-Unsubscribe: <http://lists.ettus.com/mailman/options/usrp-users_lists.ettus.com>, 
 <mailto:usrp-users-request@lists.ettus.com?subject=unsubscribe>
List-Archive: <http://lists.ettus.com/pipermail/usrp-users_lists.ettus.com/>
List-Post: <mailto:usrp-users@lists.ettus.com>
List-Help: <mailto:usrp-users-request@lists.ettus.com?subject=help>
List-Subscribe: <http://lists.ettus.com/mailman/listinfo/usrp-users_lists.ettus.com>, 
 <mailto:usrp-users-request@lists.ettus.com?subject=subscribe>
From: BERTOLINI Rodolphe via USRP-users <usrp-users@lists.ettus.com>
Reply-To: BERTOLINI Rodolphe <rodolphe.bertolini@cea.fr>
Content-Type: text/plain; charset="us-ascii"
Content-Transfer-Encoding: 7bit
Errors-To: usrp-users-bounces@lists.ettus.com
Sender: "USRP-users" <usrp-users-bounces@lists.ettus.com>
X-AntiAbuse: This header was added to track abuse, please include it with any abuse report
X-AntiAbuse: Primary Hostname - mm2.emwd.com
X-AntiAbuse: Original Domain - lfdr.de
X-AntiAbuse: Originator/Caller UID/GID - [47 12] / [47 12]
X-AntiAbuse: Sender Address Domain - lists.ettus.com
X-Get-Message-Sender-Via: mm2.emwd.com: acl_c_authenticated_local_user: mailman/mailman
X-Authenticated-Sender: mm2.emwd.com: mailman@lists.ettus.com
X-Source: 
X-Source-Args: 
X-Source-Dir: 

Dear all,

I put both mailing list (OAI and USRP) because both may have something to do with my problem. I apologize if it is not appropriate.

I would like to synchronize a b210 and an x310 using a square signal generated by a function generator. It has a 10MHz ref output, so I generate a 1Hz square clock through a regular front output.
Except the output voltage, is there something I should care about ? I use them with OAI, and they both are used as LTE base stations. When the base station is on external ref, UE doesn't detect the base station. When the base station is on internal ref, UE detects base station broadcasts and connects to the base station.

Note 1 : PPS and REF are well detected by the USRP, when I change for example PPS frequency, x310 led changes respectively.
Note 2 : only one USRP is used at the same time, I want to make it work first with only one base stations, and then when base stations are both on and synchronised
Note 3 : in OAI code, there is something like :

usrp_master_clock = 30.72e6;
args += boost::str(boost::format(",master_clock_rate=%f") % usrp_master_clock);
args += ",num_send_frames=256,num_recv_frames=256, send_frame_size=7680, recv_frame_size=7680" ;

Is this master clock related to the sampling rate, or should it be changed to 10MHz?

Note 4 : I looked at the spectrum of signal sent by base station, I don't see any difference between the setup with external clock and the setup with internal clock

Any pointer would be much appreciated
Thank you.

Regards,
Rodolphe
_______________________________________________
USRP-users mailing list
USRP-users@lists.ettus.com
http://lists.ettus.com/mailman/listinfo/usrp-users_lists.ettus.com
