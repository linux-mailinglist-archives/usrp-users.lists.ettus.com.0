Return-Path: <usrp-users-bounces+lists+usrp-users=lfdr.de@lists.ettus.com>
X-Original-To: lists+usrp-users@lfdr.de
Delivered-To: lists+usrp-users@lfdr.de
Received: from mm2.emwd.com (mm2.emwd.com [172.104.30.75])
	by mail.lfdr.de (Postfix) with ESMTPS id 3C1B539B3AF
	for <lists+usrp-users@lfdr.de>; Fri,  4 Jun 2021 09:18:15 +0200 (CEST)
Received: from mm2.emwd.com (localhost [127.0.0.1])
	by mm2.emwd.com (Postfix) with ESMTP id 0E3B6384751
	for <lists+usrp-users@lfdr.de>; Fri,  4 Jun 2021 03:18:14 -0400 (EDT)
Received: from lists.ettus.com (localhost [127.0.0.1])
	by mm2.emwd.com (Postfix) with ESMTP id BD234384265
	for <usrp-users@lists.ettus.com>; Fri,  4 Jun 2021 03:17:21 -0400 (EDT)
Date: Fri, 4 Jun 2021 07:17:21 +0000
To: usrp-users@lists.ettus.com
From: arjan.feta@unifi.it
Message-ID: <LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I@lists.ettus.com>
X-Mailer: PHPMailer 6.1.7 (https://github.com/PHPMailer/PHPMailer)
In-Reply-To: CAL7q81vDiFv+rB-j1dMytfp9L_2ZG1adOJmOHdEfOBGpFQYG5A@mail.gmail.com
MIME-Version: 1.0
Content-Type: multipart/mixed;
 boundary="b1_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I"
Content-Transfer-Encoding: 7bit
Message-ID-Hash: NSP34TI4NT5EWDZ25QCMZMNOE2TUKBCV
X-Message-ID-Hash: NSP34TI4NT5EWDZ25QCMZMNOE2TUKBCV
X-MailFrom: arjan.feta@unifi.it
X-Mailman-Rule-Misses: dmarc-mitigation; no-senders; approved; emergency; loop; banned-address; member-moderation; header-match-usrp-users.lists.ettus.com-0; header-match-usrp-users.lists.ettus.com-1; header-match-usrp-users.lists.ettus.com-2; nonmember-moderation; administrivia; implicit-dest; max-recipients; max-size; news-moderation; no-subject; digests; suspicious-header
X-Mailman-Version: 3.3.3
Precedence: list
Subject: [USRP-users] Re: UHD -RFNoC graph construction
List-Id: USRP-related discussion and support <usrp-users.lists.ettus.com>
Archived-At: <https://lists.ettus.com/archives/list/usrp-users@lists.ettus.com/message/NSP34TI4NT5EWDZ25QCMZMNOE2TUKBCV/>
List-Archive: <https://lists.ettus.com/archives/list/usrp-users@lists.ettus.com/>
List-Help: <mailto:usrp-users-request@lists.ettus.com?subject=help>
List-Owner: <mailto:usrp-users-owner@lists.ettus.com>
List-Post: <mailto:usrp-users@lists.ettus.com>
List-Subscribe: <mailto:usrp-users-join@lists.ettus.com>
List-Unsubscribe: <mailto:usrp-users-leave@lists.ettus.com>

This is a multi-part message in MIME format.

--b1_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I
Content-Type: multipart/alternative;
 boundary="b2_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I"

--b2_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Hi Jonathon and thank you for your answer.

I finally noticed the issue (a little bit late), but I think to have foun=
d a solution, albeit a temporary one.

The first step is to use two different DDCs instead of one with two ports=
.

The second one is to configure the two data flows (or channels) in two pr=
ocesses running in separated threads.

There are probably issues with multithreading in python, but for the mome=
nt this solution seems to work, at least for my needs.

I=E2=80=99ll attach a script here in case someone has the same issue in t=
he future.

Arjan

--b2_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I
Content-Type: text/html; charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<p>Hi Jonathon and thank you for your answer.</p><p>I finally noticed the=
 issue (a little bit late), but I think to have found a solution, albeit =
a temporary one.</p><p>The first step is to use two different DDCs instea=
d of one with two ports.</p><p>The second one is to configure the two dat=
a flows (or channels) in two processes running in separated threads.</p><=
p>There are probably issues with multithreading in python, but for the mo=
ment this solution seems to work, at least for my needs.</p><p>I=E2=80=99=
ll attach a script here in case someone has the same issue in the future.=
</p><p><br></p><p>Arjan</p>


--b2_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I--

--b1_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I
Content-Type: text/x-python; name=script1.py
Content-Transfer-Encoding: base64
Content-Disposition: attachment; filename=script1.py

IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMwojIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQoiIiIKQ3JlYXRl
ZCBvbiAyMDIxLTA2LTAxIDEwOjA5IAoKQGF1dGhvcjogQXJqYW4gRmV0YQoiIiIKCmltcG9ydCB1
aGQKaW1wb3J0IG51bXB5IGFzIG5wCmZyb20gbWF0cGxvdGxpYiBpbXBvcnQgcHlwbG90IGFzIHBs
dAppbXBvcnQgYXJncGFyc2UKaW1wb3J0IHRpbWUKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRp
bWUKaW1wb3J0IHRocmVhZGluZwppbXBvcnQgYXN5bmNpbwoKCmRlZiBzaWdfcG93MihzKToKICAg
IGxzID0gcy5zaXplCiAgICByZXMgPSBucC5kaXZpZGUobnAuc3VtKG5wLnNxdWFyZShucC5hYnMo
cykpKSwgbHMgKzEpCiAgICByZXR1cm4gcmVzCgojIDEpIENyZWF0ZSBhIFJGTm9DIGdyYXBoCmdy
YXBoID0gdWhkLnJmbm9jLlJmbm9jR3JhcGgoImFkZHI9MTkyLjE2OC4xMC4yIikKCgpzYSA9IHVo
ZC51c3JwLlN0cmVhbUFyZ3MoImZjMzIiLCAic2MxNiIpCnNhLmFyZ3MgPSAnc3BwPScgKyBzdHIo
MTgyKQoKcnhfc3RyZWFtZXIgPSBncmFwaC5jcmVhdGVfcnhfc3RyZWFtZXIoMSwgc2EpCnJ4X3N0
cmVhbWVyMSA9IGdyYXBoLmNyZWF0ZV9yeF9zdHJlYW1lcigxLCBzYSkKCgoKcmFkaW9fbm9jX2Js
b2NrID0gZ3JhcGguZ2V0X2Jsb2NrKCIwL1JhZGlvIzAiKQpyYWRpb19ibG9jayA9IHVoZC5yZm5v
Yy5SYWRpb0NvbnRyb2wocmFkaW9fbm9jX2Jsb2NrKQoKcmFkaW9fYmxvY2suc2V0X3JhdGUoMjAw
ZTYpCnJhZGlvX2Jsb2NrLnNldF9yeF9nYWluKDU1LCAwKQpyYWRpb19ibG9jay5zZXRfcnhfZ2Fp
big1NSwgMSkKcmFkaW9fYmxvY2suc2V0X3Byb3BlcnRpZXMoInNwcD0iK3N0cigxODIpLCAwKQpy
YWRpb19ibG9jay5zZXRfcHJvcGVydGllcygic3BwPSIrc3RyKDE4MiksIDEpCgpyYWRpb19ibG9j
ay5zZXRfcnhfZnJlcXVlbmN5KDE1NDk5OTgwMDAsIDApCnJhZGlvX2Jsb2NrLnNldF9yeF9hbnRl
bm5hKCJSWDEiLCAwKQpyYWRpb19ibG9jay5zZXRfcnhfZnJlcXVlbmN5KDEuOTVlOSwgMSkKcmFk
aW9fYmxvY2suc2V0X3J4X2FudGVubmEoIlJYMiIsIDEpCgoKZGRjX2Jsb2NrID0gdWhkLnJmbm9j
LkRkY0Jsb2NrQ29udHJvbChncmFwaC5nZXRfYmxvY2soIjAvRERDIzAiKSkKZGRjX2Jsb2NrLnNl
dF9pbnB1dF9yYXRlKDEwMGU2LCAwKQpkZGNfYmxvY2suc2V0X291dHB1dF9yYXRlKDIwMGUzLCAw
KQoKZGRjX2Jsb2NrMSA9IHVoZC5yZm5vYy5EZGNCbG9ja0NvbnRyb2woZ3JhcGguZ2V0X2Jsb2Nr
KCIwL0REQyMxIikpCmRkY19ibG9jazEuc2V0X2lucHV0X3JhdGUoMTAwZTYsIDApCmRkY19ibG9j
azEuc2V0X291dHB1dF9yYXRlKDIwMGUzLCAwKQoKIyBHcmFwaCB0b3BvbG9neSBjcmVhdGlvbgpn
cmFwaC5jb25uZWN0KCIwL1JhZGlvIzAiLCAwLCAiMC9EREMjMCIsIDAsIEZhbHNlKQpncmFwaC5j
b25uZWN0KCIwL0REQyMwIiwgMCwgcnhfc3RyZWFtZXIsIDApCmdyYXBoLmNvbm5lY3QoIjAvUmFk
aW8jMCIsIDEsICIwL0REQyMxIiwgMCwgRmFsc2UpCmdyYXBoLmNvbm5lY3QoIjAvRERDIzEiLCAw
LCByeF9zdHJlYW1lcjEsIDApCmdyYXBoLmNvbW1pdCgpCgphc3luYyBkZWYgcngxKCk6CiAgICBu
dW1fc2FtcHMgPSAxMDAwMAoKICAgIGJ1ZmZlcl9zYW1wcyA9IHJ4X3N0cmVhbWVyLmdldF9tYXhf
bnVtX3NhbXBzKCkKICAgIHJlY3ZfYnVmZmVyID0gbnAuemVyb3MoKDEsIGJ1ZmZlcl9zYW1wcyks
IGR0eXBlPW5wLmNvbXBsZXg2NCkKICAgIG1ldGFkYXRhID0gdWhkLnR5cGVzLlJYTWV0YWRhdGEo
KQogICAgc3RyZWFtX2NtZCA9IHVoZC50eXBlcy5TdHJlYW1DTUQodWhkLnR5cGVzLlN0cmVhbU1v
ZGUuc3RhcnRfY29udCkKICAgIHN0cmVhbV9jbWQuc3RyZWFtX25vdyA9IFRydWUKICAgIHJ4X3N0
cmVhbWVyLmlzc3VlX3N0cmVhbV9jbWQoc3RyZWFtX2NtZCkKICAgIAogICAgCgogICAgZCA9IFtd
CiAgICB0cnk6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMTAwMCk6CiAgICAgICAgICAgIHNhbXBs
ZXMgPSBucC5lbXB0eSgoMSwgbnVtX3NhbXBzKSwgZHR5cGU9bnAuY29tcGxleDY0KQogICAgICAg
ICAgICAjIFJlY2VpdmUgdGhlIHNhbXBsZXMKICAgICAgICAgICAgcmVjdl9zYW1wcyA9IDAKICAg
ICAgICAgICAgdDEgPSBkYXRldGltZS5ub3coKQogICAgICAgICAgICB3aGlsZSByZWN2X3NhbXBz
IDwgbnVtX3NhbXBzOgogICAgICAgICAgICAgICAgc2FtcHMgPSByeF9zdHJlYW1lci5yZWN2KHJl
Y3ZfYnVmZmVyLCBtZXRhZGF0YSkKICAgICAgICAgICAgICAgIGlmIG1ldGFkYXRhLmVycm9yX2Nv
ZGUgIT0gdWhkLnR5cGVzLlJYTWV0YWRhdGFFcnJvckNvZGUubm9uZToKICAgICAgICAgICAgICAg
ICAgICBwcmludChtZXRhZGF0YS5zdHJlcnJvcigpKQogICAgICAgICAgICAgICAgaWYgc2FtcHM6
CiAgICAgICAgICAgICAgICAgICAgcmVhbF9zYW1wcyA9IG1pbihudW1fc2FtcHMgLSByZWN2X3Nh
bXBzLCBzYW1wcykKICAgICAgICAgICAgICAgICAgICBzYW1wbGVzWzosIHJlY3Zfc2FtcHM6cmVj
dl9zYW1wcyArIHJlYWxfc2FtcHNdID0gcmVjdl9idWZmZXJbOiwgMDpyZWFsX3NhbXBzXQogICAg
ICAgICAgICAgICAgICAgIHJlY3Zfc2FtcHMgKz0gc2FtcHMKICAgICAgICAgICAgICAgICAgICAK
ICAgICAgICAgICAgIyBkLmFwcGVuZChzYW1wbGVzWzBdKQogICAgICAgICAgICBwID0gc2lnX3Bv
dzIoc2FtcGxlc1swXSkKICAgICAgICAgICAgcHJpbnQoIlJYMTogIiwgcCkKICAgICAgICAgICAg
IyBhd2FpdCBhc3luY2lvLnNsZWVwKDAuNSkKICAgICAgICAgICAgIyBtID0gbWF4KGJpbnMpCiAg
ICAgICAgICAgICMgcHJpbnQocmVjdl9zYW1wcywgbSkKICAgICAgICBwcmludCgiVElNRSBMQVBT
RUQ6ICIsIGRhdGV0aW1lLm5vdygpIC0gdDEpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIEdl
dCB0aGUgcG93ZXIgaW4gZWFjaCBiaW4gICAgICAgICAgICAKCiAgICBleGNlcHQgS2V5Ym9hcmRJ
bnRlcnJ1cHQ6CiAgICAgICAgcGFzcwoKCmFzeW5jIGRlZiByeDIoKToKICAgIG51bV9zYW1wcyA9
IDEwMDAwCgogICAgYnVmZmVyX3NhbXBzID0gcnhfc3RyZWFtZXIxLmdldF9tYXhfbnVtX3NhbXBz
KCkKICAgIHByaW50KGJ1ZmZlcl9zYW1wcykKICAgIHJlY3ZfYnVmZmVyID0gbnAuemVyb3MoKDEs
IGJ1ZmZlcl9zYW1wcyksIGR0eXBlPW5wLmNvbXBsZXg2NCkKICAgIAogICAgbWV0YWRhdGEgPSB1
aGQudHlwZXMuUlhNZXRhZGF0YSgpCiAgICBzdHJlYW1fY21kID0gdWhkLnR5cGVzLlN0cmVhbUNN
RCh1aGQudHlwZXMuU3RyZWFtTW9kZS5zdGFydF9jb250KQogICAgc3RyZWFtX2NtZC5zdHJlYW1f
bm93ID0gVHJ1ZQogICAgcnhfc3RyZWFtZXIxLmlzc3VlX3N0cmVhbV9jbWQoc3RyZWFtX2NtZCkK
ICAgIAogICAgZCA9IFtdCiAgICB0cnk6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMTAwMCk6CiAg
ICAgICAgICAgIHNhbXBsZXMgPSBucC5lbXB0eSgoMSwgbnVtX3NhbXBzKSwgZHR5cGU9bnAuY29t
cGxleDY0KQogICAgICAgICAgICAjIFJlY2VpdmUgdGhlIHNhbXBsZXMKICAgICAgICAgICAgcmVj
dl9zYW1wcyA9IDAKICAgICAgICAgICAgdDEgPSBkYXRldGltZS5ub3coKQogICAgICAgICAgICB3
aGlsZSByZWN2X3NhbXBzIDwgbnVtX3NhbXBzOgogICAgICAgICAgICAgICAgc2FtcHMgPSByeF9z
dHJlYW1lcjEucmVjdihyZWN2X2J1ZmZlciwgbWV0YWRhdGEpCgogICAgICAgICAgICAgICAgaWYg
bWV0YWRhdGEuZXJyb3JfY29kZSAhPSB1aGQudHlwZXMuUlhNZXRhZGF0YUVycm9yQ29kZS5ub25l
OgogICAgICAgICAgICAgICAgICAgIHByaW50KG1ldGFkYXRhLnN0cmVycm9yKCkpCiAgICAgICAg
ICAgICAgICBpZiBzYW1wczoKICAgICAgICAgICAgICAgICAgICByZWFsX3NhbXBzID0gbWluKG51
bV9zYW1wcyAtIHJlY3Zfc2FtcHMsIHNhbXBzKQogICAgICAgICAgICAgICAgICAgIHNhbXBsZXNb
OiwgcmVjdl9zYW1wczpyZWN2X3NhbXBzICsgcmVhbF9zYW1wc10gPSByZWN2X2J1ZmZlcls6LCAw
OnJlYWxfc2FtcHNdCiAgICAgICAgICAgICAgICAgICAgcmVjdl9zYW1wcyArPSBzYW1wcwogICAg
ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAjIGQuYXBwZW5kKHNhbXBsZXNbMF0pCiAgICAg
ICAgICAgIHAgPSBzaWdfcG93MihzYW1wbGVzWzBdKQogICAgICAgICAgICAjIHByaW50KCJSWDI6
ICIsIHApCiAgICAgICAgICAgICMgYXdhaXQgYXN5bmNpby5zbGVlcCgwLjUpCiAgICAgICAgICAg
ICMgcHJpbnQocmVjdl9zYW1wcywgbSkKICAgICAgICBwcmludCgiVElNRSBMQVBTRUQ6ICIsIGRh
dGV0aW1lLm5vdygpIC0gdDEpCiAgICAgICAgICAgIAoKICAgIGV4Y2VwdCBLZXlib2FyZEludGVy
cnVwdDoKICAgICAgICBwYXNzCgoKCmRlZiBtYWluKCk6CiAgICAKICAgIHJ4MV90aHJlYWQgPSB0
aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hc3luY2lvLnJ1biwgYXJncz0ocngxKCksKSkKICAgIHJ4
Ml90aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1hc3luY2lvLnJ1biwgYXJncz0ocngy
KCksKSkKICAgIHJ4MV90aHJlYWQuc3RhcnQoKQogICAgcngyX3RocmVhZC5zdGFydCgpCiAgICBl
eGl0KCkKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIG1haW4oKQo=

--b1_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I
Content-Type: text/plain; charset="us-ascii"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

_______________________________________________
USRP-users mailing list -- usrp-users@lists.ettus.com
To unsubscribe send an email to usrp-users-leave@lists.ettus.com

--b1_LJY5Yy9PGgl88skrNh0LIo2XR4ygZjWIKnpeqEG1I--
